{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '33393016-2f1d389d0905d7f9551defc49';\n\nexport const fetchImages = (query) => {\n  const params = new URLSearchParams({\n    key: API_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 9,\n  });\n\n  return fetch(`${BASE_URL}?${params}`).then((response) => {\n    if (!response.ok) {\n      throw new Error(response);\n    }\n\n    return response.json();\n  });\n};\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst refs = {\n  searchForm: document.querySelector('.form'),\n  gallery: document.querySelector('.gallery'),\n  loader: document.querySelector('.loader'),\n};\n\nconst lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});\n\nconst showError = (message) => {\n  return iziToast.error({\n    title: 'Error',\n    message:\n      message ||\n      'Sorry, there are no images matching your search query. Please try again!',\n    position: 'topRight',\n    transitionIn: 'fadeInDown',\n  });\n};\n\nconst createImageElement = ({\n  webformatURL,\n  largeImageURL,\n  likes,\n  views,\n  comments,\n  downloads,\n  tags,\n}) => {\n  return `\n    <li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=${largeImageURL}>\n        <img\n          class=\"gallery-image\"\n          src=${webformatURL}\n          alt=${tags}\n      \n        />\n        <div class=\"image-info\">\n          <div class=\"info-section\">\n            <p class=\"info-title\">Likes</p>\n            <p class=\"info-text\">${likes}</p>\n          </div>\n          <div class=\"info-section\">\n            <p class=\"info-title\">Views</p>\n            <p class=\"info-text\">${views}</p>\n          </div>\n          <div class=\"info-section\">\n            <p class=\"info-title\">Comments</p>\n            <p class=\"info-text\">${comments}</p>\n          </div>\n          <div class=\"info-section\">\n            <p class=\"info-title\">Downloads</p>\n            <p class=\"info-text\">${downloads}</p>\n          </div>\n        </div>\n      </a>\n    </li>\n    `;\n};\n\nconst renderGallery = (images) => {\n  if (!images.length) {\n    refs.gallery.innerHTML = '';\n    showError();\n  }\n\n  const markup = images.map((image) => createImageElement(image)).join('');\n  refs.gallery.innerHTML = markup;\n\n  lightbox.refresh();\n};\n\nexport { showError, createImageElement, renderGallery, refs };\n","import { fetchImages } from './js/pixabay-api';\nimport { showError, renderGallery, refs } from './js/render-functions';\n\nconst handleInput = (event) => {\n  event.preventDefault();\n\n  const form = event.currentTarget;\n  const inputValue = form.elements.search.value.trim();\n\n  if (!inputValue) {\n    refs.gallery.innerHTML = '';\n    return showError();\n  }\n\n  refs.loader.classList.add('active');\n  fetchImages(inputValue)\n    .then((images) => {\n      renderGallery(images.hits);\n    })\n    .catch((error) => {\n      showError(error.message);\n    })\n    .finally(() => {\n      form.reset();\n      refs.loader.classList.remove('active');\n    });\n};\n\nrefs.searchForm.addEventListener('submit', handleInput);\n"],"names":["BASE_URL","API_KEY","fetchImages","query","params","response","refs","lightbox","SimpleLightbox","showError","message","iziToast","createImageElement","webformatURL","largeImageURL","likes","views","comments","downloads","tags","renderGallery","images","markup","image","handleInput","event","form","inputValue","error"],"mappings":"6vBAAA,MAAMA,EAAW,2BACXC,EAAU,qCAEHC,EAAeC,GAAU,CACpC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,CACd,CAAG,EAED,OAAO,MAAM,GAAGH,CAAQ,IAAII,CAAM,EAAE,EAAE,KAAMC,GAAa,CACvD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,CAAQ,EAG1B,OAAOA,EAAS,MACpB,CAAG,CACH,ECfMC,EAAO,CACX,WAAY,SAAS,cAAc,OAAO,EAC1C,QAAS,SAAS,cAAc,UAAU,EAC1C,OAAQ,SAAS,cAAc,SAAS,CAC1C,EAEMC,EAAW,IAAIC,EAAe,gBAAiB,CACnD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAaC,GACVC,EAAS,MAAM,CACpB,MAAO,QACP,QACED,GACA,2EACF,SAAU,WACV,aAAc,YAClB,CAAG,EAGGE,EAAqB,CAAC,CAC1B,aAAAC,EACA,cAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,EACA,KAAAC,CACF,IACS;AAAA;AAAA,qCAE4BL,CAAa;AAAA;AAAA;AAAA,gBAGlCD,CAAY;AAAA,gBACZM,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMeJ,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,mCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,mCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,MAQtCE,EAAiBC,GAAW,CAC3BA,EAAO,SACVf,EAAK,QAAQ,UAAY,GACzBG,KAGF,MAAMa,EAASD,EAAO,IAAKE,GAAUX,EAAmBW,CAAK,CAAC,EAAE,KAAK,EAAE,EACvEjB,EAAK,QAAQ,UAAYgB,EAEzBf,EAAS,QAAO,CAClB,EC3EMiB,EAAeC,GAAU,CAC7BA,EAAM,eAAc,EAEpB,MAAMC,EAAOD,EAAM,cACbE,EAAaD,EAAK,SAAS,OAAO,MAAM,OAE9C,GAAI,CAACC,EACH,OAAArB,EAAK,QAAQ,UAAY,GAClBG,EAAS,EAGlBH,EAAK,OAAO,UAAU,IAAI,QAAQ,EAClCJ,EAAYyB,CAAU,EACnB,KAAMN,GAAW,CAChBD,EAAcC,EAAO,IAAI,CAC/B,CAAK,EACA,MAAOO,GAAU,CAChBnB,EAAUmB,EAAM,OAAO,CAC7B,CAAK,EACA,QAAQ,IAAM,CACbF,EAAK,MAAK,EACVpB,EAAK,OAAO,UAAU,OAAO,QAAQ,CAC3C,CAAK,CACL,EAEAA,EAAK,WAAW,iBAAiB,SAAUkB,CAAW"}